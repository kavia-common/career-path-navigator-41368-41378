{"is_source_file": true, "format": "Python", "description": "This Python source file defines REST API endpoints for managing user progress data within a FastAPI application. It includes models, route handlers for listing and adding progress items, and internal logic for persisting data to either an in-memory structure or a SQLite database.", "external_files": ["src.routers.auth", "src.models.auth", "src.models.domain", "src.core.config", "src.db.sqlite"], "external_methods": ["get_current_user", "UserPublic", "ProgressItem", "get_settings", "sqlite_db.get_conn", "sqlite_db.execute", "sqlite_db.fetch_all"], "published": ["list_my_progress", "add_progress"], "classes": [{"name": "ProgressCreate", "description": "Pydantic model representing the payload for creating a new progress item, with fields for competency, level, and optional evidence URL."}], "methods": [{"name": "None _add_progress(rec: Dict)", "description": "Internal function to add a progress record to the database or in-memory store based on configuration.", "scope": "", "scopeKind": ""}, {"name": "List[Dict] _list_progress(user_id: str)", "description": "Internal function to retrieve progress records for a given user from the database or in-memory store.", "scope": "", "scopeKind": ""}, {"name": "list_my_progress(current: UserPublic = Depends(get_current_user))", "description": "API endpoint to list the current user's progress items.", "scope": "", "scopeKind": ""}, {"name": "add_progress(payload: ProgressCreate, current: UserPublic = Depends(get_current_user))", "description": "API endpoint to add a new progress item for the current user.", "scope": "", "scopeKind": ""}], "calls": ["get_current_user", "_list_progress", "ProgressItem", "_add_progress", "uuid4", "get_settings", "sqlite_db.get_conn", "sqlite_db.execute", "sqlite_db.fetch_all"], "search-terms": ["progress endpoint", "progress API", "user progress", "FastAPI progress router", "progress database access"], "state": 2, "file_id": 34, "knowledge_revision": 101, "git_revision": "f5abc39a744638f0cf4bac61a4baa5b023dff881", "revision_history": [{"71": ""}, {"100": "d817588e91a0e451b431ebba83282289df8bb429"}, {"101": "f5abc39a744638f0cf4bac61a4baa5b023dff881"}], "ctags": [{"_type": "tag", "name": "ProgressCreate", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^class ProgressCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_add_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def _add_progress(rec: Dict) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(rec: Dict)"}, {"_type": "tag", "name": "_list_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def _list_progress(user_id: str) -> List[Dict]:$/", "language": "Python", "typeref": "typename:List[Dict]", "kind": "function", "signature": "(user_id: str)"}, {"_type": "tag", "name": "_mem_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^_mem_progress: Dict[str, Dict] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Dict]", "kind": "variable"}, {"_type": "tag", "name": "_user_progress_index", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^_user_progress_index: Dict[str, List[str]] = {}$/", "language": "Python", "typeref": "typename:Dict[str, List[str]]", "kind": "variable"}, {"_type": "tag", "name": "add_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def add_progress(payload: ProgressCreate, current: UserPublic = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(payload: ProgressCreate, current: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "competency", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^    competency: str = Field(..., min_length=2)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "evidence_url", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^    evidence_url: Optional[str] = Field(None)$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "level", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^    level: str = Field(..., min_length=1)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "list_my_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def list_my_progress(current: UserPublic = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^router = APIRouter(prefix=\"\\/progress\", tags=[\"progress\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "sqlite_db", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^from src.db import sqlite as sqlite_db$/", "language": "Python", "kind": "unknown", "nameref": "unknown:sqlite"}], "hash": "0a2760724b3aaea97fb1ad23a95a0096", "format-version": 4, "code-base-name": "career_navigator_backend", "filename": "career_navigator_backend/src/routers/progress.py", "fields": [{"name": "Dict[str, Dict] _mem_progress", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, List[str]] _user_progress_index", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str competency", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] evidence_url", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str level", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/progress\", tags=[\"progress\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}