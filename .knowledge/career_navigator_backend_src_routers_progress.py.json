{"is_source_file": true, "format": "Python", "description": "This file defines REST API endpoints for managing user progress data in a FastAPI application. It includes data models, in-memory and database persistence logic, and route handlers for listing and adding progress items for the current user.", "external_files": ["src.routers.auth", "src.models.auth", "src.models.domain", "src.core.config", "src.db.sqlite"], "external_methods": ["get_current_user", "UserPublic", "ProgressItem", "get_settings", "sqlite_db.get_conn", "sqlite_db.execute", "sqlite_db.fetch_all"], "published": ["list_my_progress", "add_progress"], "classes": [{"name": "ProgressCreate", "description": "Pydantic model for creating a new progress item with fields for competency, level, and optional evidence URL."}], "methods": [{"name": "None _add_progress(rec: Dict)", "description": "Inserts a progress record into the database or in-memory store based on settings.", "scope": "", "scopeKind": ""}, {"name": "List[Dict] _list_progress(user_id: str)", "description": "Retrieves progress records for a specific user from the database or in-memory store.", "scope": "", "scopeKind": ""}, {"name": "list_my_progress(current: UserPublic = Depends(get_current_user))", "description": "API endpoint to list progress items for the current authenticated user.", "scope": "", "scopeKind": ""}, {"name": "add_progress(payload: ProgressCreate, current: UserPublic = Depends(get_current_user))", "description": "API endpoint to add a new progress item for the current authenticated user.", "scope": "", "scopeKind": ""}], "calls": ["get_settings()", "sqlite_db.get_conn()", "sqlite_db.execute()", "sqlite_db.fetch_all()", "get_current_user()", "ProgressItem()"], "search-terms": ["progress endpoint", "user progress API", "src/routers/progress.py", "ProgressCreate model", "add_progress route", "list_my_progress route"], "state": 2, "file_id": 34, "knowledge_revision": 71, "git_revision": "", "ctags": [{"_type": "tag", "name": "ProgressCreate", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^class ProgressCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_add_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def _add_progress(rec: Dict) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(rec: Dict)"}, {"_type": "tag", "name": "_list_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def _list_progress(user_id: str) -> List[Dict]:$/", "language": "Python", "typeref": "typename:List[Dict]", "kind": "function", "signature": "(user_id: str)"}, {"_type": "tag", "name": "_mem_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^_mem_progress: Dict[str, Dict] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Dict]", "kind": "variable"}, {"_type": "tag", "name": "_user_progress_index", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^_user_progress_index: Dict[str, List[str]] = {}$/", "language": "Python", "typeref": "typename:Dict[str, List[str]]", "kind": "variable"}, {"_type": "tag", "name": "add_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def add_progress(payload: ProgressCreate, current: UserPublic = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(payload: ProgressCreate, current: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "competency", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^    competency: str = Field(..., min_length=2)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "evidence_url", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^    evidence_url: Optional[str] = Field(None)$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "level", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^    level: str = Field(..., min_length=1)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "list_my_progress", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^def list_my_progress(current: UserPublic = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^router = APIRouter(prefix=\"\\/progress\", tags=[\"progress\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "sqlite_db", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/progress.py", "pattern": "/^from src.db import sqlite as sqlite_db$/", "language": "Python", "kind": "unknown", "nameref": "unknown:sqlite"}], "hash": "b519b3ecc21ed3d2a688a49736762770", "format-version": 4, "code-base-name": "career_navigator_backend", "filename": "career_navigator_backend/src/routers/progress.py", "fields": [{"name": "Dict[str, Dict] _mem_progress", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, List[str]] _user_progress_index", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str competency", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] evidence_url", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str level", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/progress\", tags=[\"progress\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"71": ""}]}