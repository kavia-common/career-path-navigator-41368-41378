{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for managing job applications within a careers tracking backend. It includes data models, dependency injection for user authentication, in-memory and SQLite database interactions, and REST API route handlers for listing and adding jobs.", "external_files": ["src.routers.auth", "src.models.auth", "src.models.domain", "src.core.config", "src.db.sqlite"], "external_methods": ["src.routers.auth.get_current_user", "src.models.auth.UserPublic", "src.models.domain.JobApplication", "src.core.config.get_settings", "src.db.sqlite.get_conn", "src.db.sqlite.execute", "src.db.sqlite.fetch_all"], "published": ["list_my_jobs", "add_job"], "classes": [{"name": "JobCreate", "description": "Pydantic model for creating a new job, including fields for title, company, status, and optional notes."}], "methods": [{"name": "None _add_job(rec: Dict)", "description": "Internal function to add a job record to the database or in-memory store based on configuration.", "scope": "", "scopeKind": ""}, {"name": "List[Dict] _list_jobs(user_id: str)", "description": "Internal function to retrieve a list of jobs for a given user ID from the database or in-memory store.", "scope": "", "scopeKind": ""}, {"name": "list_my_jobs(current: UserPublic = Depends(get_current_user))", "description": "API endpoint to list all job applications for the current authenticated user.", "scope": "", "scopeKind": ""}, {"name": "add_job(payload: JobCreate, current: UserPublic = Depends(get_current_user))", "description": "API endpoint to add a new job application for the current authenticated user.", "scope": "", "scopeKind": ""}], "calls": ["src.routers.auth.get_current_user", "src.core.config.get_settings", "src.db.sqlite.get_conn", "src.db.sqlite.execute", "src.db.sqlite.fetch_all"], "search-terms": ["jobs endpoint", "JobCreate", "add_job function", "list_my_jobs function", "sqlite database", "FastAPI router", "user jobs", "job application"], "state": 2, "file_id": 33, "knowledge_revision": 81, "git_revision": "d817588e91a0e451b431ebba83282289df8bb429", "revision_history": [{"68": ""}, {"81": "d817588e91a0e451b431ebba83282289df8bb429"}], "ctags": [{"_type": "tag", "name": "JobCreate", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^class JobCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_add_job", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^def _add_job(rec: Dict) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(rec: Dict)"}, {"_type": "tag", "name": "_list_jobs", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^def _list_jobs(user_id: str) -> List[Dict]:$/", "language": "Python", "typeref": "typename:List[Dict]", "kind": "function", "signature": "(user_id: str)"}, {"_type": "tag", "name": "_mem_jobs", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^_mem_jobs: Dict[str, Dict] = {}  # id -> record$/", "language": "Python", "typeref": "typename:Dict[str, Dict]", "kind": "variable"}, {"_type": "tag", "name": "_user_jobs_index", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^_user_jobs_index: Dict[str, List[str]] = {}  # user_id -> list[job_id]$/", "language": "Python", "typeref": "typename:Dict[str, List[str]]", "kind": "variable"}, {"_type": "tag", "name": "add_job", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^def add_job(payload: JobCreate, current: UserPublic = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(payload: JobCreate, current: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "company", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^    company: str = Field(..., min_length=1)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "JobCreate", "scopeKind": "class"}, {"_type": "tag", "name": "list_my_jobs", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^def list_my_jobs(current: UserPublic = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^    notes: Optional[str] = Field(None)$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "JobCreate", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^router = APIRouter(prefix=\"\\/jobs\", tags=[\"jobs\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "sqlite_db", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^from src.db import sqlite as sqlite_db$/", "language": "Python", "kind": "unknown", "nameref": "unknown:sqlite"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^    status: str = Field(..., min_length=2)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "JobCreate", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/career-path-navigator-41368-41378/career_navigator_backend/src/routers/jobs.py", "pattern": "/^    title: str = Field(..., min_length=2)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "JobCreate", "scopeKind": "class"}], "hash": "9960f013c32d627cc4710b80f4eba35c", "format-version": 4, "code-base-name": "career_navigator_backend", "filename": "career_navigator_backend/src/routers/jobs.py", "fields": [{"name": "Dict[str, Dict] _mem_jobs", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, List[str]] _user_jobs_index", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str company", "scope": "JobCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] notes", "scope": "JobCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/jobs\", tags=[\"jobs\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str status", "scope": "JobCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "JobCreate", "scopeKind": "class", "description": "unavailable"}]}